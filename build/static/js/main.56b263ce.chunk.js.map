{"version":3,"sources":["index.js"],"names":["Stone","color","this","props","value","className","onClick","React","Component","BoardRow","i","squares","renderStone","index","Board","Volume","volume","Game","state","history","Array","fill","stepNumber","xIsNext","isEnter","slice","length","place","col","row","isPlaceable","calculateWinner","setState","concat","step","newVolume","console","log","status","current","winner","onGame","audioPlay","jumpTo","toggleVolume","handleClick","dirList","Math","trunc","a","b","c","d","path","audio","Audio","play","then","catch","error","warn","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.56b263ce.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\n// TODO: draw check, Board grid, enter function\n\nclass Stone extends React.Component {\n  render() {\n    let color;\n    if (this.props.value === null)\n      color = \"\";\n    else\n      color = this.props.value === 'X' ? 'stone-color1' : 'stone-color2';\n    return (\n      <button className={'stone ' + color} onClick={() => {\n        this.props.onClick();\n        }}>\n      </button>\n    )\n  }\n}\n\nclass BoardRow extends React.Component {\n  renderStone(i) {\n    return (\n      <Stone \n        value={this.props.squares[i]} \n        onClick={() => this.props.onClick(i)}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"board-row\">\n        {this.renderStone(this.props.index * 7 + 0)}\n        {this.renderStone(this.props.index * 7 + 1)}\n        {this.renderStone(this.props.index * 7 + 2)}\n        {this.renderStone(this.props.index * 7 + 3)}\n        {this.renderStone(this.props.index * 7 + 4)}\n        {this.renderStone(this.props.index * 7 + 5)}\n        {this.renderStone(this.props.index * 7 + 6)}\n      </div>\n    )\n  }\n}\n\nclass Board extends React.Component {\n  render() {\n    return (\n      <div>\n        <BoardRow\n          index={0}\n          squares={this.props.squares}\n          onClick={(i) =>this.props.onClick(i)}\n        />\n        <BoardRow\n          index={1}\n          squares={this.props.squares}\n          onClick={(i) =>this.props.onClick(i)}\n        />\n        <BoardRow\n          index={2}\n          squares={this.props.squares}\n          onClick={(i) =>this.props.onClick(i)}\n        />\n        <BoardRow\n          index={3}\n          squares={this.props.squares}\n          onClick={(i) =>this.props.onClick(i)}\n        />\n        <BoardRow\n          index={4}\n          squares={this.props.squares}\n          onClick={(i) =>this.props.onClick(i)}\n        />\n        <BoardRow\n          index={5}\n          squares={this.props.squares}\n          onClick={(i) =>this.props.onClick(i)}\n        />\n      </div>\n    );\n  }\n}\n\nclass Volume extends React.Component {\n  render() {\n    const volume = this.props.volume;\n    if (volume === 1) {\n      return (<i \n        className=\"fas fa-volume-up fa-3x\"\n        onClick={() => this.props.onClick()}\n        ></i>);\n    } else if (volume === 0.5) {\n      return (<i \n        className=\"fas fa-volume-down fa-3x\"\n        onClick={() => this.props.onClick()}\n        ></i>);\n    } else {\n      return (<i\n        className=\"fas fa-volume-off fa-3x\"\n        onClick={() => this.props.onClick()}\n        ></i>);\n    }\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [{\n        squares: Array(42).fill(null),\n      }],\n      stepNumber: 0,\n      xIsNext: true,\n      isEnter: false,\n      volume: 1\n    }\n  }\n\n  handleClick(i) {\n    if (!this.state.isEnter)\n      return;\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n    const place = isPlaceable(squares, i);\n    if (calculateWinner(squares, 0) || place === null) {\n      return;\n    }\n    squares[place] = this.state.xIsNext ? 'X'  : 'O';\n    this.setState({\n      history: history.concat([{\n        squares: squares,\n      }]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext,\n  });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: (step % 2) === 0,\n    });\n  }\n\n  toggleVolume() {\n    let newVolume;\n    if (this.state.volume === 1) {\n      newVolume = 0.5;\n    } else if (this.state.volume === 0.5) {\n      newVolume = 0;\n    } else {\n      newVolume = 1;\n    }\n    console.log(newVolume);\n    this.setState({\n      volume: newVolume\n    })\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares, 0);\n\n    // use if I want to add history back\n    // const moves = history.map((step, move) => {\n    //   const desc = move ?\n    //     'Go to move #' + move :\n    //     'Go to game start';\n    //   return (\n    //     <li key={move}>\n    //       <button onClick={() => this.jumpTo(move)}>{desc}\n    //       </button>\n    //     </li>\n    //   );\n    // });\n\n    let status;\n    if (winner) {\n      status = 'Winner: ' + winner;\n    } else {\n      status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\n    }\n\n    const onGame = this.state.isEnter ? \" board-on\" : \"\";\n\n    return (\n      <div className=\"game\">\n          <div className=\"game-title\">\n            <span className=\"neon flash\">電<span>電</span></span>\n            <span className=\"neon flash\">脳<span>脳</span></span>\n            <span className=\"neon flash\">盤<span>盤</span></span>\n            <span className=\"neon flash\">上<span>上</span></span>\n            <span className=\"neon flash\">娯<span>娯</span></span>\n            <span className=\"neon flash\">楽<span>楽</span></span>\n            <span className=\"neon flash\">&nbsp;<span>&nbsp;</span></span>\n            <span className=\"neon flash\">四<span>四</span></span>\n            <span className=\"neon flash\">子<span>子</span></span>\n            <span className=\"neon flash\">棋<span>棋</span></span>\n          </div>\n        <div className=\"game-info\">\n          <div>\n            <div>{status}</div>\n            <button className=\"enter-button\"\n            onClick={() => {\n              audioPlay(\"audio/switch.mp3\", this.state.volume);\n              this.jumpTo(0);}}>\n            RESET\n            </button>\n            <Volume \n              volume={this.state.volume}\n              onClick={() => {\n                this.toggleVolume();\n                audioPlay(\"audio/switch.mp3\", this.state.volume);\n              }}\n            ></Volume>\n          </div>\n          <button className=\"enter-button\"\n            onClick={() => {\n              audioPlay(\"audio/bell_sound.mp3\", this.state.volume);\n              this.setState({isEnter : true});\n            }}> 入場 ☞ </button>\n        </div>\n        <div className=\"game-body\">\n          <div className={\"game-board\" + onGame}>\n            <Board \n              squares={current.squares}\n              onClick={(i) => {\n                if (this.state.isEnter)\n                  audioPlay(\"audio/switch.mp3\", this.state.volume);\n                this.handleClick(i);\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// ========================================\n\nReactDOM.render(<Game />, document.getElementById('root'));\n\n//  return placeable index number, or return null if stone is full on col\nfunction isPlaceable(squares, i) {\n  const col = i % 7;\n  for (let row = 0; row < 6; row++) {\n    const index = row * 7 + col;\n    if (squares[index] !== null) {\n      if (row === 0)\n      return null;\n      else\n      return index - 7;\n    }\n  }\n  return col + 35;\n}\n\nfunction calculateWinner(squares, index) {\n  if (index === 42) {\n    return null;\n  }\n  if (squares[index] === null)\n    return calculateWinner(squares, index + 1);\n  const dirList =[\n    [0,1], [-1,1], [-1,0], [-1,-1], [0,-1], [1,-1], [1,0], [1,1]\n  ];// 右,  右上,     上,     左上,     左,     左下,   下、    右下\n\n  const row = Math.trunc(index / 7);\n  const col = index % 7;\n\n  for (let i = 0; i < 8; i++) {\n    if ((col === 0 && i >= 3 && i <= 5) || (row === 0 && i >= 1 && i <= 3) \n      ||(col === 6 && (i <= 1 || i === 7)) || (row === 5 && i >= 6 && i <= 8))\n      continue;\n    const [a, b, c, d] = [\n      (row + dirList[i][0] * 0) * 7 + (col + dirList[i][1] * 0),\n      (row + dirList[i][0] * 1) * 7 + (col + dirList[i][1] * 1),\n      (row + dirList[i][0] * 2) * 7 + (col + dirList[i][1] * 2),\n      (row + dirList[i][0] * 3) * 7 + (col + dirList[i][1] * 3)\n    ];\n    if (squares[a] === squares[b] && squares[a] === squares[c] && squares[a] === squares[d]) {\n      return squares[a];\n    }\n  }\n  return calculateWinner(squares, index + 1);\n}\n\nfunction audioPlay (path, volume) {\n  const audio = new Audio(path);\n  audio.volume = volume;\n  audio.play().then(() => {\n    console.log(\"Audio started!\")\n  })\n    .catch(error => console.warn(error))\n}"],"sourceRoot":""}